!function(e){var t={};function n(c){if(t[c])return t[c].exports;var r=t[c]={i:c,l:!1,exports:{}};return e[c].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,c){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(c,r,function(t){return e[t]}.bind(null,r));return c},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";n.d(t,"a",function(){return c});class c{constructor(){this.serviceUrl="http://localhost:5000"}async listAllProducts(){try{const e=await fetch(`${this.serviceUrl}/products`);if(200!==e.status&&201!==e.status)throw new Error(e.statusText);return await e.json()}catch(e){throw e}}async listProductsByCategory(e){try{const t=await fetch(`${this.serviceUrl}?category=${e}`);if(200!==t.status&&201!==t.status)throw new Error(t.statusText);return await t.json()}catch(e){throw e}}async addToCart(e){try{let t="";return $.ajax({url:`${this.serviceUrl}/addToCart`,type:"POST",data:{id:e},success:function(e,n,c){t=c.responseText,console.log(t)},error:function(e,t,n){throw new Error("Error occurred!")}}),console.log(t),await t.json()}catch(e){throw e}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});class c{constructor(){this.serviceUrl="http://localhost:5000"}async findAll(){try{const e=await fetch(this.serviceUrl+"/categories");if(200!==e.status&&201!==e.status)throw new Error(e.statusText);return await e.json()}catch(e){throw new Error("Fetch failed")}}async getBanner(){try{const e=await fetch(this.serviceUrl+"/banners");if(200!==e.status&&201!==e.status)throw new Error(e.statusText);return await e.json()}catch(e){throw e}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const c=new(n(0).a);class r{constructor(){}render(){let e=JSON.parse(sessionStorage.getItem("cart"))||[];const t=document.getElementById("overlayContainer");if(!document.querySelector(".overlay-header")){const e=document.createElement("div");e.className="overlay-header",e.innerHTML='<header><div class="cart-header"><div class="cart-name">My Cart</div><i class="fas fa-times close"></i></div></header>',t.appendChild(e);const n=document.createElement("div");n.className="overlay-content empty",n.innerHTML='<div class="cart-empty"><p>No items in your cart</p><p>Your favourite items are just a click away</p></div><div class="content"></div>';const c=document.createElement("div");c.className="overlay-footer",c.innerHTML='<div class="overlay-button"><button class="checkout start" type="button">Start Shopping</button></div>',t.appendChild(n),t.appendChild(c)}if(e.length){let t=0;e.forEach(e=>{t+=JSON.parse(e).qty}),document.querySelector(".header-menu__subgroup-container.item-total").innerText=t+" items";const n=document.querySelector(".overlay-content");n.innerHTML="",n.classList.remove("empty");const r=document.createElement("div");r.className="content";let a=0;c.listAllProducts().then(t=>{t.forEach(t=>{e.forEach(e=>{const n=JSON.parse(e);if(n.product_id==t.id&&n.qty){const e=document.createElement("div");e.className="cart-instance";const c=document.createElement("div");c.className="cart-instance__image",c.innerHTML='<img alt="'+t.name+'" src="'+t.imageURL.replace("/static/","")+'" height="100" width="100">',e.appendChild(c);const o=document.createElement("div");o.className="cart-instance__desc",o.innerHTML="<p>"+t.name+'</p><div class="cart-instance__qty"><button type="button" class="cart-instance__update decrease" data-id="'+t.id+'">-</button><span class="cart-qty">'+n.qty+'</span><button type="button" class="cart-instance__update increase" data-id="'+t.id+'">+</button><span class="times">X</span><span class="cart-price">Rs.'+t.price+"</div>",e.appendChild(o);const s=document.createElement("div");s.className="cart-instance__total",s.innerHTML="<span>Rs."+n.qty*t.price+"</span>",e.appendChild(s),r.appendChild(e),a+=n.qty*t.price}})});const c=document.createElement("div");c.className="cart__lowest-price",c.innerHTML='<img src="images/lowest-price.png"><span>You won\'t find it cheaper anywhere</span>',r.appendChild(c),n.appendChild(r),document.querySelector(".promo-message")&&document.querySelector(".promo-message").remove(),document.querySelector(".checkout.proceed")&&document.querySelector(".checkout.proceed").remove();const o=document.querySelector(".overlay-button"),s=document.createElement("div");s.className="promo-message",s.innerText="Promo code can be applied on payment page",o.appendChild(s),document.querySelector(".checkout.start").style.display="none";const l=document.createElement("button");l.className="checkout proceed",l.innerHTML='<div class="proceed">Proceed to Checout</div><div class="cart_total">Rs.'+a+'</div><div class="arrow">></div>',o.appendChild(l);$(".increase").each((t,n)=>{n.addEventListener("click",n=>{let c=0;e.forEach(n=>{const r=JSON.parse(n);r.product_id==event.target.dataset.id&&(c=r.qty,c++,r.qty=c,e[t]=JSON.stringify(r))}),sessionStorage.setItem("cart",JSON.stringify(e)),this.render()})}),$(".decrease").each((t,n)=>{n.addEventListener("click",n=>{let c=1,r=0;e.forEach(n=>{const a=JSON.parse(n);a.product_id==event.target.dataset.id&&(c=a.qty,c--,a.qty=c,e[t]=JSON.stringify(a)),r+=a.qty}),sessionStorage.setItem("cart",JSON.stringify(e)),r||(sessionStorage.removeItem("cart"),document.querySelector(".content").innerHTML="",document.querySelector(".overlay-content").innerHTML='<div class="cart-empty"><p>No items in your cart</p><p>Your favourite items are just a click away</p></div><div class="content"></div>',document.querySelector(".content").style.display="none",document.querySelector(".promo-message").style.display="none",document.querySelector(".checkout.proceed").style.display="none",document.querySelector(".checkout.start").style.display="block",document.querySelector(".overlay-content").classList.add("empty"),document.querySelector(".header-menu__subgroup-container.item-total").innerText="0 items"),this.render()})}),document.querySelector(".proceed")&&document.querySelector(".proceed").addEventListener("click",e=>{document.getElementById("overlay").style.display="none",document.body.style.overflow="auto"})}).catch(e=>console.log("Something went wrong!!")),document.querySelector(".cart__lowest-price")&&document.querySelector(".cart__lowest-price").remove()}document.querySelector(".close").addEventListener("click",e=>{document.getElementById("overlay").style.display="none",document.body.style.overflow="auto"}),document.querySelector(".checkout.start").addEventListener("click",e=>{document.getElementById("overlay").style.display="none",document.body.style.overflow="auto"})}}},,,,function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(2),a=n(1);const o=new c.a,s=new a.a,l=new r.a;const d=new class{constructor(e){this.prodService=e}listAll(e){const t=this;s.findAll().then(e=>{const n=document.querySelector(".page-content__category"),c=document.createElement("div");c.className="category-list";const r=document.createElement("div");r.className="category-dropdown small",r.innerHTML='<div style="margin-bottom: 10px;"><span>'+e[0].name+'</span><a class="toggle"><i class="fas fa-caret-down"></i></a></div>',n.appendChild(c);const a=document.createElement("ul");a.className="nav-list";const o=document.createElement("ul");o.className="nav-list small",e.forEach(e=>{if(e.enabled){const n=document.createElement("li"),c=document.createElement("li");n.className="nav-list-item",n.dataset.attr=e.id,c.className="nav-list-item",c.dataset.attr=e.id;const r=document.createElement("a"),s=document.createElement("a");r.className="category-link",s.className="category-link",r.onclick=function(){document.querySelector(".category-dropdown.small span").innerText=e.name,"block"==document.querySelector(".category-dropdown.small").style.display&&(document.querySelector(".nav-list").style.display="none"),t.getProducts(e.id)},s.onclick=function(){document.querySelector(".category-dropdown.small span").innerText=e.name,"block"==document.querySelector(".category-dropdown.small").style.display&&(document.querySelector(".nav-list.small").style.display="none"),t.getProducts(e.id)},r.innerText=e.name,n.appendChild(r),a.appendChild(n),s.innerText=e.name,c.appendChild(s),o.appendChild(c)}}),r.appendChild(o),c.appendChild(r),c.appendChild(a),n.appendChild(c)}).catch(e=>console.log(e)),this.getProducts(e),setTimeout(()=>{document.querySelector(".toggle").addEventListener("click",e=>{""==document.querySelector(".nav-list.small").style.display||"none"==document.querySelector(".nav-list.small").style.display?document.querySelector(".nav-list.small").style.display="block":"block"!=document.querySelector(".category-dropdown.small").style.display&&""!=document.querySelector(".category-dropdown.small").style.display||(document.querySelector(".nav-list.small").style.display="none")})},500)}getProducts(e){document.querySelector(".page-content__productsList").innerHTML="",o.listAllProducts().then(t=>{t.forEach(t=>{e&&""!=e?e==t.category&&this.printCard(t):this.printCard(t)});const n=document.getElementsByClassName("buy-product");Array.prototype.forEach.call(n,e=>{e.parentElement.addEventListener("click",t=>{t.stopImmediatePropagation();const n=e.parentElement.querySelector(".product-data").value;let c=1,r=JSON.parse(sessionStorage.getItem("cart"))||[];sessionStorage.removeItem("cart"),r.forEach(e=>{const t=JSON.parse(e);t.product_id==n&&(c=t.qty,c++,r.pop(e))}),r.push(JSON.stringify({product_id:n,qty:c})),sessionStorage.setItem("cart",JSON.stringify(r)),document.getElementById("overlay").style.display="block",document.body.style.overflow="hidden",l.render()})})}).catch(e=>console.log(e))}printCard(e){const t=document.querySelector(".page-content__productsList"),n=document.createElement("div");n.className="card";const c=document.createElement("div");c.className="card-heading",c.innerHTML="<h3>"+e.name+"</h3>",n.appendChild(c);const r=document.createElement("div");r.className="card-content";const a=document.createElement("div");a.className="card-image",a.innerHTML='<img src="'+e.imageURL.replace("/static/","")+'" alt="'+e.name+'">',r.appendChild(a);const o=document.createElement("div");o.className="product-desc truncate",o.innerHTML="<p>"+e.description+"</p>",r.appendChild(o);const s=document.createElement("div");s.className="product-price",s.innerHTML="<p>MRP Rs."+e.price+"</p>",r.appendChild(s);const l=document.createElement("div");l.className="card-button",l.innerHTML='<input type="hidden" class="product-data" data-price = "'+e.price+'" value="'+e.id+'" data-attr="'+e.name+'" data-value="'+e.imageURL.replace("/static/","")+'"/><button type="button" class="buy-product large">Buy Now</button><button type="button" class="buy-product small">Buy Now @ Rs.'+e.price+"</button>",r.appendChild(l),n.appendChild(r),t.appendChild(n)}addtocart(e){o.addToCart(e).then(e=>console.log("RES-------------"+e)).catch(e=>console.log("error--- add to cart"))}}(new c.a),i=document.querySelector("#category"),u=new r.a;d.listAll(i.value),document.querySelector(".header-menu__subgroup-container.cart").addEventListener("click",e=>{document.getElementById("overlay").style.display="block",document.body.style.overflow="hidden",u.render()});let m=JSON.parse(sessionStorage.getItem("cart"))||[],p=0;m.forEach(e=>{p+=JSON.parse(e).qty}),document.querySelector(".header-menu__subgroup-container.item-total").innerText=p+" items"}]);