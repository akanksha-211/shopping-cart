!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=class{constructor(){this.serviceUrl="http://localhost:5000"}async findAll(){try{const e=await fetch(this.serviceUrl+"/categories");if(200!==e.status&&201!==e.status)throw new Error(e.statusText);return await e.json()}catch(e){throw e}}async getBanner(){try{const e=await fetch(this.serviceUrl+"/banners");if(200!==e.status&&201!==e.status)throw new Error(e.statusText);return await e.json()}catch(e){throw e}}}},function(e,t){e.exports=class{constructor(){this.serviceUrl="http://localhost:5000/products"}async listAllProducts(){try{const e=await fetch(this.serviceUrl);if(200!==e.status&&201!==e.status)throw new Error(e.statusText);return await e.json()}catch(e){throw e}}async listProductsByCategory(e){try{const t=await fetch(`${this.serviceUrl}?category=${e}`);if(200!==t.status&&201!==t.status)throw new Error(t.statusText);return await t.json()}catch(e){throw e}}}},,,,,function(e,t,n){const r=n(1),a=new(n(7))(new r),c=document.querySelector("#category"),o=new(n(10));a.listAll(c.value),document.querySelector(".header-menu__subgroup-container.cart").addEventListener("click",e=>{document.getElementById("overlay").style.display="block",o.render()})},function(e,t,n){const r=new(n(1)),a=new(n(0)),c=new(n(10));e.exports=class{constructor(e){this.prodService=e}listAll(e){a.findAll().then(e=>{const t=document.querySelector(".page-content__category"),n=document.createElement("div");n.className="category-list";const r=document.createElement("div");r.className="category-dropdown small";const a=document.createElement("span");a.innerText=e[0].name,r.appendChild(a);const c=document.createElement("a");c.href="#",c.innerText="Ë…",r.appendChild(c),n.appendChild(r),t.appendChild(n);const o=document.createElement("ul");o.className="nav-list",e.forEach(e=>{if(e.enabled){const t=document.createElement("li");t.className="nav-list-item",t.dataset.attr=e.id;const n=document.createElement("a");n.className="category-link",n.href="?id="+e.id,n.innerText=e.name,t.appendChild(n),o.appendChild(t)}}),n.appendChild(o),t.appendChild(n)}).catch(e=>console.log(e)),r.listAllProducts().then(t=>{t.forEach(t=>{e&&""!=e?e==t.category&&this.printCard(t):this.printCard(t)});const n=document.getElementsByClassName("buy-product");Array.prototype.forEach.call(n,e=>{e.parentElement.addEventListener("click",t=>{event.stopImmediatePropagation();const n=e.parentElement.querySelector(".product-data").value,r=e.parentElement.querySelector(".product-data").dataset.attr,a=e.parentElement.querySelector(".product-data").dataset.price;console.log(n,r,a);let o=JSON.parse(sessionStorage.getItem("cart"))||[];o.push(JSON.stringify({product_id:n,product_name:r,price:a})),sessionStorage.setItem("cart",JSON.stringify(o)),console.log("length-------------"+JSON.parse(sessionStorage.getItem("cart")).length),document.getElementById("overlay").style.display="block",c.render()})})}).catch(e=>console.log(e))}printCard(e){const t=document.querySelector(".page-content__productsList"),n=document.createElement("div");n.className="card";const r=document.createElement("div");r.className="card-heading",r.innerHTML="<h3>"+e.name+"</h3>",n.appendChild(r);const a=document.createElement("div");a.className="card-content";const c=document.createElement("div");c.className="card-image",c.innerHTML='<img src="'+e.imageURL.replace("/static/","")+'" alt="'+e.name+'">',a.appendChild(c);const o=document.createElement("div");o.className="product-desc truncate",o.innerHTML="<p>"+e.description+"</p>",a.appendChild(o);const s=document.createElement("div");s.className="product-price",s.innerHTML="<p>MRP Rs."+e.price+"</p>",a.appendChild(s);const l=document.createElement("div");l.className="card-button",l.innerHTML='<input type="hidden" class="product-data" data-price = "'+e.price+'" value="'+e.id+'" data-attr="'+e.name+'"/><button type="button" class="buy-product large">Buy Now</button><button type="button" class="buy-product small">Buy Now @ Rs.'+e.price+"</button>",a.appendChild(l),n.appendChild(a),t.appendChild(n)}}},,,function(e,t){e.exports=class{constructor(){}render(){const e=document.getElementById("overlayContainer"),t=document.createElement("div");t.className="overlay-header",t.innerHTML='<header><div class="cart-header"><div class="cart-name">My Cart</div><div class="close">X</div></div></header>',e.appendChild(t);const n=document.createElement("div");n.className="overlay-content",n.innerHTML='<div class="cart-empty"><p>No items in your cart</p><p>Your favourite items are just a click away</p></div>';const r=document.createElement("div");r.className="overlay-footer",r.innerHTML='<div class="overlay-button"><button class="checkout" type="button">Start Shopping</button></div>',e.appendChild(n),e.appendChild(r),document.querySelector(".close").addEventListener("click",e=>{document.getElementById("overlay").style.display="none"}),document.querySelector(".checkout").addEventListener("click",e=>{document.getElementById("overlay").style.display="none"})}}}]);